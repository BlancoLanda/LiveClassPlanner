<app-header title="Scenario: {{name}}"></app-header>

<ion-content class="ion-padding">

  <ion-list>
    <ion-list-header>
      Session Information
    </ion-list-header>

    <ion-item>
      <ion-avatar slot="start">
        <ion-icon name="accessibility-outline"></ion-icon>
      </ion-avatar>
      <ion-label>
        <h2><b>Your Name:</b> {{user_name}}</h2>
      </ion-label>
    </ion-item>
    
    <ion-item *ngIf="role == 'student'">
      <ion-avatar slot="start">
        <ion-icon name="school-outline"></ion-icon>
      </ion-avatar>
      <ion-label>
        <h2><b> Teacher Name:</b> {{teacherName}}</h2>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-avatar slot="start">
        <ion-icon name="calendar-outline"></ion-icon>
      </ion-avatar>
      <ion-label>
        <h2><b> Session Creation Date:</b> {{classroomCreatedDate | date:'medium'}}</h2>
      </ion-label>
    </ion-item>     
    <ion-item>
      <ion-avatar slot="start">
        <ion-icon name="pricetags-outline"></ion-icon>
      </ion-avatar>
      <ion-label>
        <h2><b> Session PIN: </b><span class="pin">{{pin}}</span></h2>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-avatar slot="start">
        <ion-icon name="globe-outline"></ion-icon>
      </ion-avatar>
      <ion-label>
        <h2 *ngIf="runningStatus==0"><b>Status: <ion-text color="danger">NOT STARTED</ion-text></b></h2>
        <h2 *ngIf="runningStatus==1"><b>Status: <ion-text color="dark"><img src="https://i.pinimg.com/originals/0c/fb/e1/0cfbe1825c9d357bc74afc9a43566439.gif" width="12" height="12"/> LIVE</ion-text></b></h2>
        <h2 *ngIf="runningStatus==2"><b>Status: <ion-text color="primary">FINISHED</ion-text></b></h2>
      </ion-label>
    </ion-item>    

  </ion-list>

  <ion-button (click)="viewDetails()" expand="block">View class details</ion-button>
  <ion-button (click)="viewActivities()" expand="block">Preview activities</ion-button>
  <ion-button (click)="startClassroom()" *ngIf="role == 'teacher' && runningStatus==0" expand="block" color="warning"><b>Start classroom session</b></ion-button>
  <ion-button (click)="startClassroom()" *ngIf="role == 'teacher' && runningStatus==2" expand="block" color="danger"> <b> Restart classroom session</b></ion-button>
  <ion-button (click)="joinClassroom()" *ngIf="runningStatus==0" expand="block" color="warning"> <b> Join classroom session</b></ion-button>
  <ion-button (click)="joinClassroom()" *ngIf="runningStatus==1" expand="block" color="warning"><img src="https://i.pinimg.com/originals/0c/fb/e1/0cfbe1825c9d357bc74afc9a43566439.gif" width="12" height="12" style="margin-right: 5px;"/> <b> Join classroom session</b></ion-button>
  <ion-button (click)="joinClassroom()" *ngIf="runningStatus==2" expand="block" color="warning"> <b> View classroom log</b></ion-button>

  <ion-list>
    <ion-list-header>
      <span>Students Joined<ion-badge id="badge" color="primary">{{studentList.length}}</ion-badge></span>
    </ion-list-header>
    <ion-item *ngFor="let student of studentList">
      <ion-avatar slot="start">
        <ion-icon name="person-outline"></ion-icon>
      </ion-avatar>
      <ion-label>
        <h2>{{student.student_name}}</h2>
      </ion-label>
    </ion-item>

  </ion-list>

</ion-content>
